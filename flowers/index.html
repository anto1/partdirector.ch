<!DOCTYPE html>
<html>
<head>
  <title>Flower Of The World</title>
  <link rel="stylesheet" href="style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <meta charset="utf-8">
  <meta name="author" content="Anton Prokopev">
  <meta name="designer" content=Petr Prokopev”>
  <meta name=”robots” content=”index,follow”>
  <meta name="distribution" content="web">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <meta http-equiv="Content-Script-Type" content="text/javascript">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>

<body>
  <h1>Flowers</h1>
  <h2>Of The World</h2>
  <h3 id="num"></h3>

  <div class="content">
    <p class="mobileHeader">
      Of The<br>
      World
    </p>
    <img class="imageFirst" src="img/R1-03626-0001.jpg" alt="room">
    <img src="img/R1-03626-0017.jpg" alt="towel">
    <img src="img/R1-03626-0018.jpg" alt="clouds">

  </div>

  <footer>
    <p>Long story short.</p>
    <p>&copy;2022, Anton Prokopev</p>
  </footer>

  <script>
    var imagesCount = document.images.length;
    var difference = 0;
    var imageNumber = 1;
    const num = document.querySelector('#num');
    const imagesPositions = [];
    num.innerText = imagesCount;

    $(window).on('load', function() {
      $("img").each(function() {
        imagesPositions.push($(this).prop("offsetTop"));
      });

      function getImageNumber(number, imagesPositions) {
        for (var i = 1; i < imagesPositions.length; ++i) {
          if (number < imagesPositions[i]) {
            return i;
          }
        }
      }

      window.addEventListener('scroll', function(e) {
        imageNumber = getImageNumber(window.scrollY+$(window).height()/2, imagesPositions);
        if (typeof imageNumber === 'undefined') {
          imageNumber = imagesCount;
        }
        num.innerText =  imageNumber + "/" + imagesCount;
      });

    });
  </script>
</body>
</html>
